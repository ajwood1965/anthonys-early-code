







[tabset 1.5in 3in 4.5in 6in]
[leading 14pt][sentspace 3pt][cj,cmr 24,bd]IMG Scan

Image Scanner For the Amiga Computer

[p,cmr 12]

Hardware by Seymor-Radix, Inc.
Software by Anthony Wood


[fj]Copyright 1989 by SunRize Industries.  All rights reserved.  No part of this book may be reproduced, in any form or by any means, without written permission from the publisher.  Amiga is a trademark of Commodore Business Machines.  Epson is a trademark of Epson, Inc.

[cj]SunRize Industries
3801 Old College Road
Bryan, TX. 77801
(409) 846-1311


[fj,newpage]

[bd]Table of Contents[p]

[bd]Introduction[p] [tab][tab][tab]00
[bd]Installation and Configuration[p] [tab][tab][tab]00
Make a Copy of Your Disk [tab][tab][tab]00
Connecting the IMG Scan hardware to the Amiga [tab][tab][tab]00
Connecting the Image Cable [tab][tab][tab]00
Configuration [tab][tab][tab]00
[bd]Scanning[p] [tab][tab][tab]00
Testing your IMG Scan [tab][tab][tab]00
Your First Scan [tab][tab][tab]00
What is Best to Scan? [tab][tab][tab]00
Quick Step Check List [tab][tab][tab]00
[bd]Menu Options[p] [tab][tab][tab]00
[it]Project[p] [tab][tab][tab]00
Open [tab][tab][tab]00
Save As... [tab][tab][tab]00
About [tab][tab][tab]00
Quit [tab][tab][tab]00
[it]Scan[p] [tab][tab][tab]00
Start Scan [tab][tab][tab]00
Restart Scan [tab][tab][tab]00
Edit Picture [tab][tab][tab]00
Show raw data [tab][tab][tab]00
[it]Options[p] [tab][tab][tab]00
Set Screen Resolution [tab][tab][tab]00
Set Scan Area [tab][tab][tab]00
[bd]Hints and Suggestions[p] [tab][tab][tab]00
[bd]Troubleshooting[p] [tab][tab][tab]00
[newpage]
[cmr 24][bd]Introduction[p][cmr 12]

Thank you for purchasing the IMG Scan. The IMG Scan is a simple, inexpensive device for digitizing images on the Amiga personal computer. A key element in its simplicity and low cost is its use of your printer and an image cable to transmit the gray level information to the Amiga. The IMG Scan is attached to the Amiga through the parallel (printer) port and the image cable is attached to your printer by a special mounting clip.

Generally, the maximum vertical resolution of the scanned image is determined by the vertical resolution of your printer. For Epson compatible printers, this is usually 216 or 144 lines per inch. Some 24-pin printers will give up to 360 lines per inch resolution. Ambient light is usually not a problem since the scanner has its own light source. Room lighting will have no bad effects on a scan unless bright light is distributed non-uniformly across the page.

IMG Scan supports four different screen resolutions; 320x200, 320x400, 640x200, and 640x400.  For 512K Amiga computers, only these screen resolutions are available: 320x200 and 640x200.

Changing the screen size will not significantly alter the image, because the scanner always stores the scanned data internally in 640x400 and 256 gray scales (640x200 for unexpanded Amigas).

The scanned image can be saved to disk in the IFF format. The raw image data can also be saved for further enhancement or processing.

It is very important that you send in your registration card so we can advise you of enhancements and revisions. We publish a bi-monthly newsletter which you will receive just by being a registered owner. We also encourage your comments and suggestions about our products. If you have any suggestions please drop us a line and let us know.

[newpage]
[cmr 24][bd]Installation and Configuration[p][cmr 12]

[bd]Make a Copy of Your Disk[p]

The IMG Scan software is not copy-protected; you should make a copy of the IMG Scan disk as soon as you open the box. [un]Do not[p] use your original disk. Store your original in a safe place. Refer to your Amiga owner's manual if you are not sure about how to copy a disk.

[bd]Connecting the IMG Scan hardware to the Amiga[p]

INSERT COMPUTER AND PRINTER PIC HERE

IMG Scan comes in one of two versions; one for the Amiga 1000, and one for the Amiga 500 and 2000. These models are [un]not[p] interchangeable. The model type should be clearly marked on the outside of the box.

To connect the IMG Scan to the Amiga, first make sure the power is off to all devices. Locate the parallel port on your Amiga. For the Amiga 1000, it is the rightmost rear port when viewing the computer from the front. For the 500 and 2000, it is the port just to the right of the power supply connector when viewing from the front.

INSERT INSTALLATION PICTURE HERE

Gently insert the IMG Scan device into the parallel port. Make sure the IMG Scan is fully inserted, then plug your printer cable into the IMG Scan. Now turn on your computer and peripherals.

[bd]Connecting the Image Cable[p]

You should now gain access to your printer's print head. You will also need to remove the printer ribbon and any obstacles which might interfere with the image cable. If the ribbon remains in the printer, the printer will print a period on each side of the page while it scans. Make sure the DIP switches in your printer that control automatic line feed and skip over perforation are turned off. Now secure the image cable to the print head of your printer.

Since the IMG Scan is designed to be used with a large variety of printers with hundreds of different shapes and sizes of print heads, you must devise a way to secure the image cable to your particular printer. Enclosed in your IMG Scan package you will find a mounting bracket and a piece of aluminum tape, either of which should enable you to mount your image cable on the print head.

The mounting bracket consists of two metal S-clips. One has a piece of double-sided tape attached to it; it is designed to stick to a flat part of your print head. The end of the image cable passes through the other clip, and sticks out at the page. The two clips should hold the end of the image cable tightly.

Several things need to be considered when mounting the bracket. First, make sure the surface the bracket will be attached to is clean, dry, and relatively flat. Second, position the cable end so it points directly at the page. A skewed image cable will result in extremely poor scanning quality. Third, mount the end of the image cable as close to the page as possible without it actually touching the page.

This is an example of a mount using the provided clip. The printer shown is a Commodore 1525.

INSERT 1525 PICTURE HERE

This print head has a small metal flange which is just dandy for attaching the clip to.

If your printer has a flat ribbon cartridge which could be convenient for mounting the IMG Scan bracket, you may want to remove the ink ribbon from an old cartridge, and pop the cartridge in when you want to scan something.

If your print head is small, or has no flat spaces, you may have to use the tape to mount your image cable. This is not such a bad arrangement as long as your image cable is not drawn tight while the print head moves. Again, remember to stick the tape to a clean, dry surface.

This is an example of a mount using the tape provided. The printer shown is Star NX-1000.

INSERT NX-1000 PICTURE HERE

On this printer, the image cable is touching the printer case. This could cause wear to the cable if you use your IMG Scan regularly. Wrap a piece of tape around the part that rubs; this should take care of the problem.

This is another example of tape mounting. The printer shown is a Canon A-40.

INSERT A-40 PICTURE HERE

Notice that the tape and cable are attached to the print head heat sink. For this printer, the heat sink does not get hot enough to present a problem. However, if your printer has a heat sink, be sure to test the sink by scanning without attaching the image cable. If the sink gets too hot to [un]hold[p], it is too hot for your image cable.

If all else fails, normal tape and/or rubber bands have been known to work well for attaching the image cable.

The great variety of printers available makes more specific instructions impossible.  We are sure that with patience and a little ingenuity you can devise an attachment method for your printer.

[bd]Configuration[p]

The file on your disk labelled "config.is" is a configuration file for the IMG Scan software. When the IMG Scan software runs, it searches for this file in the current directory.  The software then opens the file and the contents are used to correctly control your printer. The file comes on disk set up for a Star NX-1000 Epson compatible dot matrix printer. This file can be edited in a text editor, so if your printer is [un]not[p] an Epson compatible, or you have a 24-pin printer, you may have to change the values in the file. Even if your printer is an Epson compatible, you may wish to change the timing values in this file; different printers move at different speeds and have different carriage widths.

Actually, there are several configuration files on your IMG Scan disk. 
 These files are found in the 'Config" directory.  Each file is named by the printer type followed by a ".is" suffix.  If you see your printer configuration file (or one for a similar printer) you can copy the file over the current "config.is" file.  This is done with the c„o„p„y„ command from your CLI or SHELL window.

Below is an example of a configuration file. Any line which begins with a ";" is a comment line, and is not read by IMG Scan when the "config.is" file is read. A "config.is" file needs to contain the following information about your printer, in any order:

I  Initialization byte sequence to be sent before scan starts
V printer command to feed the paper up the smallest amount possible
H the horizontal move command. 0 for a default sequence
R the horizontal command to move back (assuming bi-directional printing)
D the number of the above 'V' commands needed to move one inch (dpi) vertically
T time delay between samples
O offset from left edge to wait before scanning

This is the file for a Star NX-1000.

;NX-1000
; reset, disable paper out, set bidirectional printing
I 27,64,27,56,27,85,0
V 27,74,2
H 0
R 0
D 108
T 90
O 500

The "I" line sends a reset command, a disable paper out command, and an enable bi-directional printing command. These byte values are specific to each printer, so you will need to consult your printer manual for the equivalent codes.  However, most Epson-compatible printers s‚h‚o‚u‚l‚d‚ be able to understand these codes.

The "V" line is sent to make the printer move the roller up (vertical move). This particular sequence actually moves the roller up two steps; twice the vertical resolution could be achieved just by changing the last number to a "1".

The "H" line is a sequence used to make the print head move across the page. Here we are using the default, "0", which simply makes the printer print 79 spaces and a period (which is why you need to remove the ribbon).

The "R" line is a sequence used to make the print head come back to the left edge of the page. Here we are again using the default, "0", which again makes the printer print 79 spaces and a period. If you use the number "1", IMG Scan will assume you are [un]not[p] using bi-directional mode and will not issue a return command.

The "D" line specifies the vertical density of your printer in fractions of an inch. The setting for this printer is 108, which means that sending the "V" sequence 108 times will move the paper up exactly one inch. This line is important for correct control in the Set Scan option of the software. The information about the vertical density of your printer should be in your printer manual.

Note that, if we had changed the "V" line to use a movement of 1 instead of 2, we would need to change this line to "D 216".

The "T" line contains a delay between samplings of the scanner. As this number gets smaller, the area scanned gets smaller. 640 samples are taken with every pass. To scan a whole page, you would want this number to be around 90, though this will vary considerably between printers.

The "O" line contains a delay between when the print head starts moving and when the scanner starts scanning. You can think of this number as a left-margin setting, even though the movement of the print head itself is not affected. To scan a whole page, you would want this number to be around 100, though this will vary considerably between printers.

When you adjust your "config.is" file, the "O" and "T" lines will have to be adjusted by trial and error.  These settings can also be adjusted from within the program with the S„e„t„ „S„c„a„n„ menu option.  Once you have adjusted the program to settings you like, you can edit the "config.is" file to make the changes permanent.

These settings suffer from a further complication. An Amiga with memory expansion will run the IMG Scan software slightly faster than an unexpanded Amiga. Also, the screen resolution during a scan will effect the speed of the program.

Two good rules arise from this situation:

1. Select a screen mode for digitizing and stay there. Since the IMG Scan performs fastest in 320x200 mode, and no data is lost, you should stay in 320x200 resolution during the scan. Once the scan is completed, you can always go to a higher resolution later for saving it or viewing it.

2. Never change resolutions in mid-scan. The result would look terrible.

As you can see, you will need your printer manual before you can attempt to edit this file. Be sure to try the default file provided once before you decide to edit it.

[newpage]
[cmr 24][bd]Scanning[p][cmr 12]


[bd]Testing your IMG Scan[p]

Testing your IMG Scan to make sure it is functioning correctly is a snap. Make sure your IMG Scan is connected, your computer is on, and the IMG Scan software is running. Now choose View Raw Data from the Scan menu. A vertical string of numbers will appear in a window. These numbers are the input from your IMG Scan. The numbers range from 0 (lightest) to 255 (darkest).

Now hold the end of your image cable close (within 1/16 of an inch) to a white page. The numbers should be around 20-40, although anything under 50 is normal. Hold the end of your image cable close to a black part of the page. The numbers should be around 210-240, although anything over 200 is normal.

If you do not see these numbers, try;

1. Re-checking your connections, including the image cable connections to the IMG Scan device.

2. Filing the end of the image cable with an emery board.

If nothing works, call or write the SunRize Industries technical support line. If the unit is found to be defective, we will repair or replace it.


[bd]Your First Scan[p]

Included in the package is a test pattern suitable for scanning. A sample scan of this pattern is included on your disk for comparison purposes. The picture file is in 320x200 IFF format, and is called "testpic.good". You should practice scanning this picture until your results are comparable to this file.

If you have trouble getting your picture to look right, consult the text file on your disk called "More".  This file contains specific information about the other test files on your disk, and can help you diagnose your problem.

Begin by attaching the IMG Scan unit as previously described. Insert the picture into your printer, using friction feed. Turn on your computer and printer. If you are using an Amiga 1000, use your Kickstart 1.3 disk now. When your computer asks for the Workbench disk, put the IMG Scan disk into your internal drive. IMG Scan will automatically run.

Make sure your printer head is on the left side of the carriage bay. Some printers can scan backwards if this is not so. Simply turning off and turning back on your printer will usually take care of this.

Now, choose [it]Start Scan [p]from the [it]Scan[p] menu. Your disk should fire up for a few seconds, and then the print head should start moving back and forth. If something goes wrong (like a tangle of the image cable) you can pause the scan at any time by hitting the space bar or taking your printer off line.

Make sure that the print head is on the left side of the carriage bay when you have paused it.  Otherwise, you may get a reversed image when you choose R„e„s„t„a„r„t„ „S„c„a„n„.„ Turning off and turning back on your printer will reset the print head correctly.

[bd]What is Best to Scan?[p]

We have found that a black and white photocopy of a picture works well. Glossy black and white and color photographs will also scan. However, color pictures may not scan as well as black and white pictures since the IMG Scan uses infrared to scan. This causes red to appear brighter than green and blue.

[bd]Quick Step Check List[p]

1. Make sure the IMG Scan is plugged in properly to the parallel port.

2. Remove any obstructions that could tangle or block the image cable as it moves with the print head.

3. Be sure to remove the printer ribbon.

4. If necessary, disable the switch that prohibits printer operation when printer cover is removed.

5. Make sure the image cable is secure on the print head. Loose fitting can cause a blurred picture, or cause the cable to come off during operation.

6. Make sure the tip of the image cable is close to but not touching the page (within 1/16th of an inch).

7. Make sure the end of the cable that connects to the IMG Scan is secure in its connector.

[newpage]
[cmr 24][bd]Menu Options[p][cmr 12]

When your software is running, you are presented with a blank screen with a title bar at the top. By clicking on the title bar with your right mouse button (and holding the button down), you can access several menu options. These menus control the IMG Scan software.

The following is a list of the menu options and what they do.

[bd]Project[p]

[bd]Open[p]

This option will load a graphic file from disk in either RAW or IFF formats. For the best contrast and brightness control possible, you should load RAW files. See the [bd]Save As...[p] option for information about the IFF and RAW formats.

IMG Scan uses the ARP file requester for this option. The ARP library must be on your Workbench disk in the [it]Libs[p] directory for IMG Scan to work.

The requester that comes up is designed to be easy to use, but some explanation is useful. The requester includes a long box on top, a long box near the bottom, and three buttons on the bottom. The three buttons are OK, which loads the currently selected file, PARENT, which lets you move through the directories, and CANCEL, which doesn't load anything.

The long box on top is a text area where you can type the path of the file. The path is where the file is (on which disk and which drawer). For instance, if your file was on a disk in the external drive, you would [un]click on the upper box[p], type "[it]df1:[p]", and hit return. The middle area will fill up with a list of the files on that disk. You can choose a displayed file just by clicking on it. If you click on a directory name, that directory will be searched.

The long box near the bottom is a text area where you type in the actual name of the file. If you click on a file in the middle of the requester, that file name will appear here. After putting a file name into this box, you can load the file by hitting the OK button or simply pressing Return.

The PARENT button will get you out of the directory you are currently in and send you back to the previous directory level if you click on it with the left mouse button. Clicking with the [un]right[p] mouse button will bring up a list of disk drives and devices which are available.

[bd]Save As...[p]

This option will save the current graphic to disk in either RAW or IFF formats. See above for information about the requester.

The IFF file format is the standard Amiga format. If you save your graphic in this format, you will be able to load the graphic into any paint program or desktop publishing program. However, the resolution of the saved picture will be the current screen resolution. Also, the saved picture will only have 16 gray scales. IFF images will load back into IMG Scan, but will not be very modifiable (because of the lower resolution).

The RAW file format is a data dump which no other program can read. However, [un]all[p] of the scanned data is saved. This facilitates re-loading the data for further editing and for storing in different-sized IFF files.

This chart shows the characteristics of the different formats.

Screen Size [tab]File Format [tab]Resolution [tab]Total Size
[tab][tab](Width x Height x Bitplanes)

320x200 [tab]IFF [tab]320x200x4 [tab]Up to 32K
320x400 [tab]IFF [tab]320x400x4 [tab]Up to 64K
640x200 [tab]IFF [tab]640x200x4 [tab]Up to 64K
640x400 [tab]IFF [tab]640x400x4 [tab]Up to 128K

Any [tab]RAW [tab]640x400x8 [tab]Exactly 256K for expanded Amiga
[tab][tab]640x200x8[tab]Exactly 128K for 512K Amiga

The RAW file format is just a data dump. The data is saved one byte per pixel, left to right and top to bottom.  On the 512K (unexpanded) Amiga the total size is 128K.  On the expanded Amiga the total size is 256K.



[bd]About[p]

This option displays credits and SunRize Industries information.

[bd]Quit[p]

This option shuts down IMG Scan and returns you to the Workbench. Any graphic data not already saved will be lost.

[newpage]
[bd]Scan[p]

[bd]Start Scan[p]

Once your printer is correctly set up to scan a picture, and the picture is set in the printer, choosing this option will begin the scan. The scan can be suspended at any time by hitting the space bar.

[bd]Restart Scan[p]

This option will continue the scan after it has been suspended with the space bar.

[bd]Edit Picture[p]

This option will bring up a screen menu with controls for modifying the scanned picture.

The screen menu has these controls:

Brightness [tab]A slider bar
Contrast [tab]A slider bar
Update [tab]A button
Histogram [tab]A button
B & W [tab]A button
Log [tab]A button
OK [tab]A button

The Brightness bar controls the brightness of your picture. The Contrast bar controls the contrast of your picture. After using these controls (or any others) click the Update button to show the picture with the new changes.

The Histogram button displays a bar graph of the sixteen grays and their relative amounts on the screen. A good picture should use all of the sixteen gray scales. Press Update to remove the histogram.

The B & W button changes to a black and white picture with no gray shades at all. Though the Contrast bar doesn't work in this mode, the Brightness bar can be used to adjust the picture. Clicking this button again turns the B & W mode off.

The Log button switches to a logarithmic display. Gray shades are no longer displayed using linear data (1,2,3,4, etc.). Gray shades are calculated logarithmically. This mode will generate better looking pictures in some cases. Log mode and B & W mode cannot be used together. Clicking this button again turns the Log mode off.

The OK button leaves the edit mode and removes the requester.

[bd]Show Raw Data[p]

This option brings up a tall window in which numbers scroll by vertically. These numbers are the raw input from your IMG Scan. The numbers range from 0 (whitest) to 255 (darkest).

When holding the end of your image cable close to a white page, the numbers should be around 20-40. When holding the end of your image cable close to a black part of the page, the numbers should be around 210-240.

Pressing the close gadget in the upper left corner of this window will stop the scrolling and close the window.

[newpage]
[bd]Options[p]

[bd]Set Screen Resolution[p]

This option will let you change the display mode to any of these four combinations:

320x200
320x400
640x200
640x400

All display modes are in sixteen gray shades.

For 512K Amiga computers, only these screen resolutions are available:

320x200
640x200

Changing the screen resolution will not alter the image data currently in memory, because the scanner always scans in 640x400 (640x200 for unexpanded Amigas).

You can achieve a slightly faster scan by choosing 320x200 resolution before you start to scan.  After the scan, you can go to a higher resolution to view or save your image.

[bd]Set Scan Area[p]

This menu option brings up a requester with several values which you can change by clicking on and editing with the keyboard. These values are:

Height

This number, expressed in thousandths of inches, is the height of the scan you want to do. If the section of the paper that you want to scan is five inches high, you would change this number to 5000. For this number to be converted correctly, make sure your 'D' option in the "config.is" file is correct. 

Also, this option may not work properly if you try to give a very small vertical height. Since the scan is always 400 lines high, at least 400 lines have to be scanned on the page. Thus, if your printer's vertical resolution is 216 lines per inch, you need to specify a height of at least 1860 (1.86 inches). Any less won't cause major problems; the scan just won't go any smaller.

Offset Delay

This number is an arbitrary delay between when the command to move the print head is sent and when the scanner starts scanning. You can think of this number as a left-margin setting, even though the movement of the print head itself is not affected. Also, the delay will start before the print head starts moving. To scan a whole page, you would want this number to be around 300, though this will vary considerably between printers.

This setting is the same as the "O" line in your "config.is" file.

Scan Delay

This number is an arbitrary delay between samples. As this number gets smaller, the area scanned gets smaller. 640 samples are taken with every pass. To scan a whole page, you would want this number to be around 90, though this will vary considerably between printers.

This setting is the same as the "T" line in your "config.is" file.

Return Delay

This number is a delay which waits for the print head to return to the left side of the carriage before sending the next signal to move. This is necessary for the proper alignment of the data on the screen. Actually, this number can be too small, but can't really be too big. A larger-than-necessary number just slows down the scanning time. A good standard number is 60, but this will vary considerably between printers. This delay is in 1/60 of a second and is quite different than the previous two delays (which have no direct conversion to seconds).

The button marked OK will close this requester.


[newpage][cmr 24][bd]Hints and Suggestions[p]

When first using the IMG Scan, the relationships of the various settings in the "config.is" file may seem confusing. Remember that the "V", "T", and "O" lines actually control the size and shape of the scan. Also remember to stick with one printer and one screen resolution when you start out. Changing either one can change the effects of your "config.is" file.

Color pictures can be scanned, but the IMG Scan uses infra-red to detect the gray level intensities. This will cause red areas in the picture to look somewhat washed out or faded. We suggest using a black and white photograph instead of a color picture.

You should try to place the tip of the image cable as close as possible to the page without touching it. Depending on your printer, you may want to pull back the paper retaining bar, which lets the paper move closer to the image cable (sometimes actually touching). However, on thin paper this can cause images from the back of the paper to bleed through.

The black and white (versus gray scale) pictures you create will still be saved in four bit-planes of data on your disk. Any paint program can cut the file down to one bit-plane, which is all a black and white picture needs.


[newpage][cmr 24][bd]Troubleshooting[p][cmr 12]

If you are having trouble reading the disk, try making another copy from the original. If the original is damaged we will immediately replace it upon receiving the damaged disk. In any case, always use a [it]copy [p]of the IMG Scan disk; keep the original in a safe place, and never edit the "config.is" file on it.

If you get an all-black image, re-check all connections, examine the tip of the image cable for obstructions, and try again. If your IMG Scan will not work, you may have a defective IMG Scan. Please send it back to your dealer or SunRize Industries. We will repair or replace it immediately.

If the image is too dark or too light, try filing the end of the image cable with an emery board. Also, check the connections of the image cable to the IMG Scan. Neither cable should pull out if you give them a gentle tug.

If the image is blurred or has a "soft focus" effect, the image cable is probably too far from the page.

If the image is too narrow or too fat, adjust the scan area with the [it]Set Scan[p] menu option.

If your scan is a mirror image of the scanned subject, it is because your printer head was on the right side of the carriage bay when you started the scan. It's a good idea to turn off and turn back on your printer when this is the case.

If the edges of the image have a zig-zag pattern, your return delay setting is probably too small. Adjust it with the [it]Set Scan[p] menu option.

If the scanner is functioning, but your scans are not satisfactory, ensure that your printer is in the proper state for scanning. Automatic line-feed and skip-over-perforation should be turned off. The printer should be in draft mode.

The IMG Scan software is [un]not[p] designed to be multi-tasking. Since it needs a 256K buffer of memory (128K for 512K Amigas) and since it uses timing loops, it is a memory and processor hog. While you can run IMG Scan concurrently with a paint or desktop publishing program, your scans may be adversely affected.

If you cannot get your IMG Scan to work, contact our technical support line [un]before[p] you send it back. We could save you some postage.



