
;equates: offsets of ASF data from header start ("ASF1")

;ASFData = 12      ;LONG offset to sample data start (from "ASF1")
         ;this value is fixed, do not alter it
;ASFSampleSize = 16   ;LONG size of sample
;ASFPeriod = 20   ;LONG playback period
;ASFVolume = 24   ;WORD volume
;ASFLoop = 26      ;WORD # of times to loop sample (or until ^C)
;ASFContLoop = 28   ;BYTE continuous loop on/off (overrides ASFLoop if on)
         ;1=on, 0=off
;ASFPri = 29      ;BYTE task priority to run at (default = 25)
;ASFFilter = 30   ;BYTE filter on/off
         ;1=on, 0=off

;ASF file saving: general layout

;1) get filename to save as
;2) see if file exists -> replace?
;3) fill in ASF header with correct information about the sound data
;   eg. size, volume, period, loop...
;4) open file for output
;5) save the ASF header
;6) save the sound data
;7) save the ASF terminator
;8) close the file

      XDEF  _ASFhdr
      XDEF  _ASFid
      XDEF  _ASFend
      XDEF  _ASFhunk_size1
      XDEF  _ASFhunk_size2


      csect data

;********************* ASF 1.0 Header *************************
;© 1990 Deltaware Products


_ASFhdr:
 dc.b $00,$00,$03,$F3,$00,$00,$00,$00,$00,$00,$00,$02,$00,$00,$00,$00
 dc.b $00,$00,$00,$01,$00,$00,$01,$CA
_ASFhunk_size1:
 dc.b $00,$00,$00,$01,$00,$00,$03,$E9
 dc.b $00,$00,$01,$CA,$60,$00,$00,$2A
_ASFid:                  ;"ASF1" (offset to this is 40)
 dc.b $41,$53,$46,$31,$30,$32,$2F,$32
 dc.b $30,$2F,$39,$30,$00,$00,$08,$04,$00,$00,$00,$04,$00,$00,$01,$66
 dc.b $00,$40,$00,$01,$00,$19,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $23,$CF,$00,$00,$06,$20,$93,$C9,$2C,$79,$00,$00,$00,$04,$4E,$AE
 dc.b $FE,$DA,$24,$40,$23,$C0,$00,$00,$06,$24,$4A,$AA,$00,$AC,$66,$00
 dc.b $00,$18,$41,$EA,$00,$5C,$4E,$AE,$FE,$80,$41,$EA,$00,$5C,$4E,$AE
 dc.b $FE,$8C,$23,$C0,$00,$00,$06,$2C,$2C,$79,$00,$00,$00,$04,$43,$FA
 dc.b $06,$4C,$70,$21,$4E,$AE,$FD,$D8,$23,$C0,$00,$00,$06,$B4,$67,$00
 dc.b $02,$BA,$2C,$7A,$06,$34,$4E,$AE,$FF,$C4,$23,$C0,$00,$00,$06,$06
 dc.b $66,$00,$00,$20,$22,$3C,$00,$00,$06,$7C,$24,$3C,$00,$00,$03,$EE
 dc.b $2C,$7A,$06,$16,$4E,$AE,$FF,$E2,$23,$C0,$00,$00,$06,$06,$67,$00
 dc.b $02,$7C,$24,$3C,$00,$00,$05,$92,$26,$3C,$00,$00,$00,$36,$61,$00
 dc.b $02,$D0,$70,$22,$22,$3C,$00,$01,$00,$01,$2C,$79,$00,$00,$00,$04
 dc.b $4E,$AE,$FF,$3A,$23,$C0,$00,$00,$05,$F2,$67,$00,$02,$3A,$70,$FF
 dc.b $4E,$AE,$FE,$B6,$4A,$80,$6B,$00,$02,$1E,$72,$00,$01,$C1,$23,$C1
 dc.b $00,$00,$05,$EE,$22,$7A,$05,$00,$13,$40,$00,$0F,$23,$7A,$05,$2A
 dc.b $00,$10,$13,$7C,$00,$04,$00,$08,$23,$7C,$00,$00,$06,$6E,$00,$0A
 dc.b $4E,$AE,$FE,$9E,$41,$FA,$05,$4E,$43,$FA,$05,$AE,$13,$7C,$00,$7F
 dc.b $00,$09,$23,$7A,$04,$D2,$00,$0E,$23,$7C,$00,$00,$06,$02,$00,$22
 dc.b $23,$7C,$00,$00,$00,$04,$00,$26,$33,$7C,$00,$20,$00,$1C,$70,$00
 dc.b $72,$00,$4E,$AE,$FE,$44,$4A,$80,$66,$00,$02,$62,$43,$FA,$05,$7A
 dc.b $0C,$29,$00,$00,$00,$1F,$66,$00,$02,$54,$70,$31,$41,$FA,$05,$6A
 dc.b $43,$FA,$05,$98,$12,$D8,$51,$C8,$FF,$FC,$20,$3A,$04,$8E,$24,$00
 dc.b $E3,$48,$23,$C0,$00,$00,$06,$28,$22,$3C,$00,$01,$00,$02,$2C,$79
 dc.b $00,$00,$00,$04,$4E,$AE,$FF,$3A,$23,$C0,$00,$00,$05,$FA,$67,$00
 dc.b $02,$30,$D0,$82,$23,$C0,$00,$00,$05,$FE,$13,$FC,$00,$01,$00,$00
 dc.b $05,$E8,$4B,$FA,$FE,$64,$7E,$00,$3E,$2D,$00,$1A,$53,$47,$6A,$00
 dc.b $00,$04,$7E,$00,$41,$F9,$00,$00,$00,$00,$23,$C8,$00,$00,$06,$16
 dc.b $D1,$ED,$00,$10,$23,$C8,$00,$00,$06,$12,$70,$00,$10,$2D,$00,$1D
 dc.b $22,$7A,$04,$56,$2C,$79,$00,$00,$00,$04,$4E,$AE,$FE,$D4,$23,$C0
 dc.b $00,$00,$06,$0E,$10,$2D,$00,$1E,$67,$00,$00,$0E,$08,$B9,$00,$01
 dc.b $00,$BF,$E0,$01,$60,$00,$00,$0A,$08,$F9,$00,$01,$00,$BF,$E0,$01
 dc.b $24,$3C,$00,$00,$05,$C8,$26,$3C,$00,$00,$00,$16,$61,$00,$01,$82
 dc.b $23,$FA,$04,$08,$00,$00,$06,$0A,$13,$FC,$00,$01,$00,$00,$05,$EB
 dc.b $13,$FC,$00,$00,$00,$00,$05,$EA,$45,$FA,$FD,$DE,$20,$2A,$00,$10
 dc.b $B0,$BA,$03,$C8,$63,$00,$01,$30,$61,$00,$01,$9A,$4A,$39,$00,$00
 dc.b $05,$EA,$66,$00,$00,$36,$61,$00,$02,$20,$61,$00,$01,$88,$4A,$39
 dc.b $00,$00,$05,$EA,$66,$00,$00,$24,$61,$00,$02,$1C,$61,$00,$02,$62
 dc.b $61,$00,$01,$72,$4A,$39,$00,$00,$05,$EA,$66,$00,$00,$0E,$61,$00
 dc.b $01,$F8,$61,$00,$02,$8A,$60,$00,$FF,$D2,$4A,$39,$00,$00,$05,$EB
 dc.b $67,$00,$00,$0E,$61,$00,$01,$F0,$61,$00,$02,$74,$60,$00,$00,$0A
 dc.b $61,$00,$01,$D6,$61,$00,$02,$2A,$20,$3A,$03,$78,$22,$7A,$03,$8A
 dc.b $2C,$79,$00,$00,$00,$04,$4E,$AE,$FE,$D4,$4A,$39,$00,$00,$05,$E8
 dc.b $67,$00,$00,$14,$20,$3A,$03,$76,$22,$7A,$03,$44,$2C,$79,$00,$00
 dc.b $00,$04,$4E,$AE,$FF,$2E,$24,$3C,$00,$00,$05,$E2,$26,$3C,$00,$00
 dc.b $00,$06,$61,$00,$00,$BC,$43,$FA,$03,$F0,$2C,$79,$00,$00,$00,$04
 dc.b $4E,$AE,$FE,$3E,$22,$7A,$03,$10,$2C,$79,$00,$00,$00,$04,$4E,$AE
 dc.b $FE,$98,$20,$7A,$03,$02,$70,$00,$10,$28,$00,$0F,$2C,$79,$00,$00
 dc.b $00,$04,$4E,$AE,$FE,$B0,$22,$7A,$02,$EE,$70,$22,$2C,$79,$00,$00
 dc.b $00,$04,$4E,$AE,$FF,$2E,$4A,$B9,$00,$00,$06,$2C,$67,$00,$00,$0E
 dc.b $22,$3A,$02,$E8,$2C,$7A,$03,$92,$4E,$AE,$FF,$DC,$22,$7A,$03,$8A
 dc.b $2C,$79,$00,$00,$00,$04,$4E,$AE,$FE,$62,$08,$B9,$00,$01,$00,$BF
 dc.b $E0,$01,$4A,$B9,$00,$00,$06,$2C,$67,$00,$00,$14,$2C,$79,$00,$00
 dc.b $00,$04,$4E,$AE,$FF,$7C,$22,$7A,$02,$D8,$4E,$AE,$FE,$86,$70,$00
 dc.b $2E,$7A,$02,$C2,$4E,$75,$4A,$2A,$00,$1C,$67,$00,$00,$08,$7C,$00
 dc.b $60,$00,$00,$06,$3C,$2A,$00,$1A,$13,$FC,$00,$01,$00,$00,$05,$E9
 dc.b $61,$00,$00,$52,$61,$00,$00,$E2,$61,$00,$01,$36,$60,$00,$FF,$0A
 dc.b $22,$3A,$02,$78,$2C,$7A,$03,$22,$4E,$AE,$FF,$D0,$4E,$75,$70,$00
 dc.b $72,$64,$2C,$7A,$03,$14,$4E,$AE,$FF,$3A,$4E,$75,$24,$3C,$00,$00
 dc.b $06,$44,$76,$1C,$61,$00,$FF,$DA,$61,$00,$FF,$E4,$60,$00,$FF,$26
 dc.b $24,$3C,$00,$00,$06,$30,$76,$14,$61,$00,$FF,$C6,$61,$00,$FF,$D0
 dc.b $60,$00,$FF,$04,$20,$7A,$02,$38,$22,$7A,$02,$20,$23,$C9,$00,$00
 dc.b $06,$1A,$D1,$C9,$28,$48,$B1,$FA,$02,$2E,$62,$00,$00,$4E,$20,$7A
 dc.b $02,$1E,$20,$09,$4A,$39,$00,$00,$05,$EB,$67,$00,$00,$20,$22,$7A
 dc.b $01,$FE,$2C,$79,$00,$00,$00,$04,$4E,$AE,$FD,$90,$13,$FC,$00,$00
 dc.b $00,$00,$05,$EB,$23,$CC,$00,$00,$06,$0A,$4E,$75,$22,$7A,$01,$E4
 dc.b $2C,$79,$00,$00,$00,$04,$4E,$AE,$FD,$90,$13,$FC,$00,$01,$00,$00
 dc.b $05,$EB,$23,$CC,$00,$00,$06,$0A,$4E,$75,$20,$7A,$01,$D2,$22,$7A
 dc.b $01,$D6,$93,$C8,$20,$09,$23,$C0,$00,$00,$06,$1A,$28,$7A,$01,$CC
 dc.b $4A,$2D,$00,$1C,$66,$00,$00,$0E,$51,$CF,$00,$0A,$13,$FC,$00,$01
 dc.b $00,$00,$05,$EA,$60,$00,$FF,$8E,$43,$FA,$02,$5E,$23,$7A,$01,$90
 dc.b $00,$22,$60,$00,$00,$0C,$43,$FA,$02,$82,$23,$7A,$01,$86,$00,$22
 dc.b $13,$7C,$00,$10,$00,$1E,$23,$7A,$01,$96,$00,$26,$33,$6D,$00,$16
 dc.b $00,$2A,$33,$6D,$00,$18,$00,$2C,$4A,$39,$00,$00,$05,$E9,$67,$00
 dc.b $00,$0A,$33,$46,$00,$2E,$60,$00,$00,$08,$33,$7C,$00,$01,$00,$2E
 dc.b $33,$7C,$00,$03,$00,$1C,$2C,$69,$00,$14,$4E,$AE,$FF,$E2,$4E,$75
 dc.b $20,$3A,$01,$30,$24,$3C,$00,$00,$10,$00,$80,$82,$2C,$79,$00,$00
 dc.b $00,$04,$4E,$AE,$FE,$C2,$22,$00,$C2,$82,$B2,$82,$67,$00,$00,$5E
 dc.b $20,$7A,$01,$14,$4E,$AE,$FE,$8C,$B0,$BC,$00,$00,$06,$C4,$67,$00
 dc.b $00,$0C,$4A,$80,$67,$00,$FF,$CA,$60,$00,$FF,$E6,$4E,$75,$20,$3A
 dc.b $00,$F2,$24,$3C,$00,$00,$10,$00,$80,$82,$2C,$79,$00,$00,$00,$04
 dc.b $4E,$AE,$FE,$C2,$22,$00,$C2,$82,$B2,$82,$67,$00,$00,$20,$20,$7A
 dc.b $00,$D6,$4E,$AE,$FE,$8C,$B0,$BC,$00,$00,$06,$F6,$67,$00,$00,$0C
 dc.b $4A,$80,$67,$00,$FF,$CA,$60,$00,$FF,$E6,$4E,$75,$43,$FA,$01,$8A
 dc.b $33,$7C,$00,$08,$00,$1C,$13,$7C,$00,$01,$00,$1E,$2C,$69,$00,$14
 dc.b $4E,$AE,$FF,$E2,$43,$FA,$01,$A4,$33,$7C,$00,$08,$00,$1C,$13,$7C
 dc.b $00,$01,$00,$1E,$2C,$69,$00,$14,$4E,$AE,$FF,$E2,$2C,$79,$00,$00
 dc.b $00,$04,$20,$7A,$00,$82,$4E,$AE,$FE,$8C,$4A,$80,$66,$00,$FF,$F4
 dc.b $24,$3C,$00,$00,$05,$DE,$26,$3C,$00,$00,$00,$04,$61,$00,$FE,$02
 dc.b $20,$1F,$60,$00,$FD,$04,$1B,$5B,$33,$33,$6D,$41,$53,$46,$20,$56
 dc.b $31,$2E,$30,$1B,$5B,$30,$6D,$20,$20,$A9,$20,$1B,$5B,$31,$6D,$44
 dc.b $65,$6C,$74,$61,$77,$61,$72,$65,$20,$50,$72,$6F,$64,$75,$63,$74
 dc.b $73,$1B,$5B,$30,$6D,$2C,$20,$31,$39,$39,$30,$0A,$50,$6C,$61,$79
 dc.b $69,$6E,$67,$20,$28,$5E,$43,$20,$74,$6F,$20,$73,$74,$6F,$70,$29
 dc.b $0A,$00,$5E,$43,$0A,$00,$44,$6F,$6E,$65,$2E,$0A,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$08,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$01,$02,$04,$08,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$4E,$6F,$74,$20,$65,$6E,$6F,$75,$67,$68,$20,$6D
 dc.b $65,$6D,$6F,$72,$79,$2E,$0A,$00,$53,$6F,$75,$6E,$64,$20,$63,$68
 dc.b $61,$6E,$6E,$65,$6C,$20,$75,$6E,$61,$76,$61,$69,$6C,$61,$62,$6C
 dc.b $65,$2E,$0A,$00,$61,$75,$64,$69,$6F,$2E,$64,$65,$76,$69,$63,$65
 dc.b $00,$00,$41,$53,$46,$5F,$41,$75,$64,$69,$6F,$50,$6F,$72,$74,$00
 dc.b $43,$4F,$4E,$3A,$30,$2F,$31,$32,$2F,$33,$32,$30,$2F,$34,$30,$2F
 dc.b $41,$53,$46,$20,$41,$75,$74,$6F,$53,$6F,$75,$6E,$64,$20,$20,$20
 dc.b $20,$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,$20
 dc.b $20,$20,$20,$20,$20,$20,$00,$00,$00,$00,$00,$00,$64,$6F,$73,$2E
 dc.b $6C,$69,$62,$72,$61,$72,$79,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
 dc.b $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$EC
 dc.b $00,$00,$00,$2E,$00,$00,$00,$00,$00,$00,$00,$2E,$00,$00,$00,$42
 dc.b $00,$00,$00,$60,$00,$00,$00,$76,$00,$00,$00,$88,$00,$00,$00,$92
 dc.b $00,$00,$00,$A6,$00,$00,$00,$B0,$00,$00,$00,$D2,$00,$00,$00,$EC
 dc.b $00,$00,$01,$06,$00,$00,$01,$26,$00,$00,$01,$70,$00,$00,$01,$86
 dc.b $00,$00,$01,$92,$00,$00,$01,$9A,$00,$00,$01,$B8,$00,$00,$01,$C2
 dc.b $00,$00,$01,$DC,$00,$00,$01,$FE,$00,$00,$02,$10,$00,$00,$02,$18
 dc.b $00,$00,$02,$20,$00,$00,$02,$3A,$00,$00,$02,$4C,$00,$00,$02,$62
 dc.b $00,$00,$02,$78,$00,$00,$02,$A8,$00,$00,$02,$C4,$00,$00,$03,$14
 dc.b $00,$00,$03,$40,$00,$00,$03,$78,$00,$00,$03,$AA,$00,$00,$03,$BE
 dc.b $00,$00,$03,$DA,$00,$00,$03,$F2,$00,$00,$04,$0C,$00,$00,$04,$12
 dc.b $00,$00,$04,$2A,$00,$00,$04,$30,$00,$00,$04,$44,$00,$00,$04,$5C
 dc.b $00,$00,$04,$96,$00,$00,$04,$E6,$00,$00,$05,$24,$00,$00,$05,$7E
 dc.b $00,$00,$00,$01,$00,$00,$00,$01,$00,$00,$01,$B2,$00,$00,$00,$00
 dc.b $00,$00,$03,$F2,$00,$00,$03,$EA
_ASFhunk_size2:
 dc.b $00,$00,$00,$01   ;size of DATA hunk in long words
;ASFhdrlen = *-_ASFhdr
; ASFhdrlen = _ASFend - _ASFhdr
_ASFend:
 dc.b $00,$00,$03,$F2   ;hunk_end
;ASFendlen = 4
         END
