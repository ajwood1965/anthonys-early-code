/** WARNING: you must compile this module with -ad and no -b option **/

#include "exec/types.h"
#include "exec/exec.h"
#include "intuition/intuition.h"
#include "desk.h"

/*****************************/
/*** change pointer **********/
/*****************************/

newpointer(screen,mode)

SHORT mode;
struct Screen *screen;

{
/* static short menus_on = TRUE; */
static short lastmode = NORMAL;
static short thismode = NORMAL;
struct Window *w;

static unsigned short paste[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x8000, 0x8000,
   0x7c00, 0x7c00,
   0x3e00, 0x3e00,
   0x1d00, 0x1f00,
   0x180, 0x280,
   0xc0, 0x140,
   0x60, 0xa0,
   0x30, 0x50,
   0x18, 0x28,
   0xc, 0x14,
   0x6, 0xa,
   0x2, 0x5,
   0x0, 0x3,
   0x0, 0x0,
   0x0, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = 0 */


static unsigned short flow[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0xee97, 0x0,
   0x4862, 0x0,
   0x4e62, 0x0,
   0x4862, 0x0,
   0x4e92, 0x0,
   0x0, 0x0,
   0xffff, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x2a0, 0x0,
   0x1c0, 0x0,
   0x80, 0x80,
   0x0, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -9, YOFFSET = -13 */


static unsigned short size[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x1E00, 0x0,
   0x1200, 0x0,
   0x1200, 0x0,
   0x1FF0, 0x0,
   0x210, 0x0,
   0x210, 0x0,
   0x210, 0x0,
   0x210, 0x0,
   0x3F0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -4, YOFFSET = -3 */

static unsigned short busy[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x380, 0x380,
   0x1FE0, 0x1FE0,
   0x3FFC, 0x3FFC,
   0x3FFE, 0x31FE,
   0x3FFE, 0x3DFE,
   0x7FFE, 0x7B1E,
   0x7FFE, 0x77DE,
   0x7FFC, 0x71BC,
   0x7FFC, 0x7F7C,
   0x3FFC, 0x3F1C,
   0x7FF8, 0x7FF8,
   0x7F00, 0x7F00,
   0x3BC0, 0x3BC0,
   0x1C0, 0x1C0,
   0x80, 0x80,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -2, YOFFSET = -1 */

static unsigned short crop[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x4000, 0x4000,
   0x6000, 0x6000,
   0x7000, 0x7000,
   0x7800, 0x7800,
   0x7C00, 0x7C00,
   0x7400, 0x7400,
   0xF00, 0xD00,
   0x780, 0x80,
   0xFC0, 0x40,
   0x7E0, 0x20,
   0x3F0, 0x10,
   0x1F8, 0x8,
   0xF0, 0x0,
   0x60, 0x0,
   0x0, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -2, YOFFSET = 0 */

static unsigned short hand[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x6c00, 0xc00,
   0x3680, 0x3680,
   0x1b40, 0x1b40,
   0x6da0, 0x6da0,
   0x36d0, 0x36d0,
   0x1b78, 0x1b78,
   0xdfc, 0xdfc,
   0x7fc, 0x7fc,
   0x63fe, 0x63fe,
   0x3bfe, 0x3bfe,
   0x1ffd, 0x1ffd,
   0xffb, 0xffb,
   0x3f6, 0x3f6,
   0x0000, 0x0000,
   0x0000, 0x0000,
};

/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -2, YOFFSET = -2 */


static unsigned short copy[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x6EEA, 0x0,
   0x4AAA, 0x0,
   0x6EEE, 0x0,
   0x84, 0x0,
   0x84, 0x0,
   0x80, 0x0,
   0x2A0, 0x0,
   0x1C0, 0x0,
   0x80, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -9, YOFFSET = -14 */

static unsigned short pick[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x100, 0x0,
   0x300, 0x0,
   0x700, 0x0,
   0xF00, 0x0,
   0x1FFF, 0x0,
   0x3FFF, 0x0,
   0x7FFF, 0x1D6A,
   0xFFFF, 0x1D4C,
   0x7FFF, 0x116A,
   0x3FFF, 0x0,
   0x1FFF, 0x0,
   0xF00, 0x0,
   0x700, 0x0,
   0x300, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = -8 */

static unsigned short pict[] = {
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x75DC, 0x0,
   0x5548, 0x0,
   0x7508, 0x0,
   0x4548, 0x0,
   0x45CA, 0x0,
   0x0, 0x0,
   0xFFFF, 0x0,
   0x100, 0x0,
   0x100, 0x0,
   0x7C0, 0x0,
   0x380, 0x0,
   0x100, 0x0000,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -8, YOFFSET = -15 */

static unsigned short line[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x7800, 0x0,
   0x7000, 0x1000,
   0x7000, 0x3000,
   0x5800, 0x1800,
   0xC00, 0xC00,
   0x7FF, 0x7FF,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -2, YOFFSET = -5 */

static unsigned short cross[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x0, 0x0,
   0x7EBF, 0x80,
   0x0, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x80, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};

/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -9, YOFFSET = -7 */

static unsigned short nothing[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x0, 0x0,
   0x0000, 0x00,
   0x0, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x00, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};

/*  WIDTH = 16, HEIGHT = 16
 XOFFSET = -9, YOFFSET = -7 */


static unsigned short edit[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x200, 0x0,
   0x600, 0x0,
   0xe00, 0x0,
   0x1fff, 0x0,
   0x3fff, 0x1d97,
   0x7fff, 0x1152,
   0xffff, 0x1d52,
   0x7fff, 0x1152,
   0x3fff, 0x1d92,
   0x1fff, 0x0,
   0xe00, 0x0,
   0x600, 0x0,
   0x200, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};

/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = -8 */


static unsigned short truck[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x8808, 0x87f0,
   0x17f4, 0xff8,
   0x2ffa, 0x1ffc,
   0x5ffd, 0x3ffe,
   0x588d, 0x3ffe,
   0x5085, 0x3dde,
   0x51c5, 0x3ffe,
   0x2f7a, 0x1ffc,
   0x1224, 0xff8,
   0x17f4, 0xff8,
   0xb68, 0x7f0,
   0xa28, 0x7f0,
   0xaa8, 0x7f0,
   0x5d0, 0x3e0,
   0x220, 0x1c0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};
/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = 0 */


/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = -7*/


static unsigned short top[] ={
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x200, 0x0,
   0x600, 0x0,
   0xe00, 0x0,
   0x1fff, 0x0,
   0x3fff, 0xeee,
   0x7fff, 0x4aa,
   0xffff, 0x4ae,
   0x7fff, 0x4a8,
   0x3fff, 0x4e8,
   0x1fff, 0x0,
   0xe00, 0x0,
   0x600, 0x0,
   0x200, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};

/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = -8 */

static unsigned short bot[] = {
   0x0000, 0x0000,
   0x0, 0x0,
   0x0, 0x0,
   0x0, 0x0,
   0x200, 0x0,
   0x600, 0x0,
   0xe00, 0x0,
   0x1fff, 0x0,
   0x3fff, 0xeee,
   0x7fff, 0xaa4,
   0xffff, 0xea4,
   0x7fff, 0xaa4,
   0x3fff, 0xee4,
   0x1fff, 0x0,
   0xe00, 0x0,
   0x600, 0x0,
   0x200, 0x0,
   0x0000, 0x0000,
   0x0000, 0x0000,
};

/* WIDTH = 16, HEIGHT = 16
 XOFFSET = -1, YOFFSET = -8 */



if (mode==RESTORE) mode=lastmode;     /* restore previous mode */
lastmode=thismode;    /* need to remember last 2 modes for RESTORE */
thismode=mode;

/* if (!menus_on && mode!=BUSY) {
   setmenus(screen, TRUE);
   menus_on = TRUE;
   }  */

switch (mode) {

   case NORMAL:
      for (w=screen->FirstWindow;w!=0;w=w->NextWindow) {
         ClearPointer(w);
         }
      return(0);

   case SIZE:

      setall(screen,size, 16, 16, -4, -3);
      break;


   case FLOW:

      setall(screen,flow, 16, 16, -9, -13);
      break;


   case BUSY:

      setall(screen,busy, 16, 16, -2, -1);
/*      setmenus(screen, FALSE);
      menus_on = FALSE; */
      break;


   case GRABIT:

      setall(screen,hand, 16, 16, -2, -2);
      break;


   case CROP:

      setall(screen,crop, 16, 16, -2, -0);
      break;


   case DUPOBJECT:

      setall(screen,copy, 16, 16, -9, -14);
      break;


   case PLACEGRAPHIC:

      setall(screen,pict, 16, 16, -8, -15);
      break;

   case LINE:
   case DOBLOCK:
   case BOX_FLOW:

      setall(screen,line, 16, 16, -2, -5);
      break;


   case CROSS:

      setall(screen,cross, 16, 16, -9, -7);
      break;

   case TRASHCAN:
      setall(screen,truck, 16, 16, -1, -0);
      break;


   case CHEAPEDIT:
      setall(screen,edit, 16, 16, -1, -8);
      break;

   case PICKTEXTA:
      setall(screen,top, 16, 16, -1, -8);
      break;

   case PICKTEXTB:
      setall(screen,bot, 16, 16, -1, -8);
      break;

   case GENOTHING:
      setall(screen,nothing, 16, 16, -1, -8);
      break;

   case PASTE:

      setall(screen,paste, 16, 16,-1, 0);
      break;


   case INVERT:
   case EDITFORMAT:
   case SAVEOBJ:
   case EDITOBJ:
   case REFLOWTEXT:
   case BREAKCHAIN:
   case LINK:
   case UNLINKALL:
   case UNLINK:

      setall(screen,pick, 16, 16, -1, -8);
      break;

   }  /** end of switch **/
}

/************************************/
/** change pointers for all windows */
/************************************/

setall(s,data,a,b,c,d)

struct Screen *s;
char *data;
int a,b,c,d;
{
struct Window *w;

for (w=s->FirstWindow; w!=0; w=w->NextWindow) {
   SetPointer(w,data,a,b,c,d-1);
   }
}



